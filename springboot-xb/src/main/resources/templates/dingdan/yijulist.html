<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title></title>
    <!--Bootstrap-->
    <link th:href="@{assets/css/dpl-min.css}" rel="stylesheet" />
    <!-- Font Awesome -->
    <link th:href="@{assets/css/bui-min.css}" rel="stylesheet" />
    <!--[if IE 7]>
    <link href="/Content/font-awesome/css/font-awesome-ie7.min.css" rel="stylesheet" />
    <![endif]-->
    <link th:href="@{assets/css/main-min.css}" rel="stylesheet" />
    <link th:href="@{Css/bootstrap.css}" rel="stylesheet" />
    <link th:href="@{Css/bootstrap-responsive.css}" rel="stylesheet" />
    <link th:href="@{Css/style.css}" rel="stylesheet" />


    <script th:src="@{assets/js/jquery-1.8.1.min.js}"></script>
    <script th:src="@{assets/js/bui-min.js}"></script>
    <script th:src="@{assets/js/common/main-min.js}"></script>
    <script th:src="@{assets/js/config-min.js}"></script>

    <script th:src="@{Js/jquery.js}"></script>
    <!--<script th:src="@{Js/jquery.sorted.js}"></script>-->
    <script th:src="@{Js/bootstrap.js}"></script>
    <script th:src="@{Js/ckform.js}"></script>
    <script th:src="@{Js/common.js}"></script>
    <!--表格-->
    <link th:href="@{bjs/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootStrap-addTabs/font-awesome.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootStrap-addTabs/jquery.scrollbar.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootStrap-addTabs/nth.tabs.min.css}" rel="stylesheet" />

    <link th:href="@{bjs/bootstrap/css/bootstrap-theme.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootstrap-treeview/dist/bootstrap-treeview.min.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootStrap-addTabs/bootstrap.addtabs.css}" rel="stylesheet" />
    <link th:href="@{bjs/bootstrap-table/dist/bootstrap-table.css}" rel="stylesheet" />



    <script th:src="@{bjs/bootstrap-datetimepicker/js/moment-with-locales.min.js}"></script>
    <script th:src="@{bjs/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js}"></script>
    <script th:src="@{bjs/bootStrap-addTabs/jquery.scrollbar.min.js}"></script>
    <script th:src="@{bjs/bootStrap-addTabs/nth.tabs.min.js}"></script>

    <script th:src="@{bjs/bootstrap/js/bootstrap.min.js}"></script>
    <script th:src="@{bjs/bootstrap-treeview/dist/bootstrap-treeview.min.js}"></script>
    <script th:src="@{bjs/bootStrap-addTabs/bootstrap.addtabs.js}"></script>
    <script th:src="@{bjs/bootstrap-table/dist/bootstrap-table.js}"></script>
    <script th:src="@{bjs/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js}"></script>
    <script th:src="@{bjs/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js}"></script>
    <script th:src="@{bjs/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js}"></script>
    <script th:src="@{bjs/bootstrap-dialog/dist/js/bootstrap-dialog.js}"></script>
    <script th:src="@{bjs/bootstrap-fileinput/js/fileinput.js}"></script>
    <script th:src="@{bjs/bootstrap-fileinput/js/locales/zh.js}"></script>



    <style type="text/css">
        body {
            padding-bottom: 40px;
        }
        .sidebar-nav {
            padding: 9px 0;
        }

        @media (max-width: 980px) {
            /* Enable use of floated navbar text */
            .navbar-text.pull-right {
                float: none;
                padding-left: 5px;
                padding-right: 5px;
            }
        }


    </style>
</head>
<body>
<form class="form-inline definewidth m20" action="index.html" method="get">

<div class="col-sm-5" style="margin-top: 1px;margin-bottom: 0px">
    <input type="text" name="username" id="username" class="form-control" placeholder="用户名称/业务员/金融产品" />&nbsp;&nbsp;
    <input type="text" name="username" id="usernam2e" class="abc input-default" placeholder="状态"  />&nbsp;&nbsp;
    <!--<input type="text" />-->
    <button type="button" onclick="showList()" class="btn btn-primary">查询</button>&nbsp;&nbsp;
</div>
    <div id="showshup" style="margin-top: 0px"></div>
</form>
</body>
</html>
<script>
//    $(function () {
//
//
//        $('#addnew').click(function(){
//
//            window.location.href="add.html";
//        });
//
//    });

        $(function(){

            $("#showshup").bootstrapTable({
                url: "/dingdanfindAll",  //请求后台的URL（*）
                striped: true,//隔行变色
                showColumns:true,//是否显示 内容列下拉框
                showPaginationSwitch:true,//是否显示 数据条数选择框
                minimumCountColumns:1,//最小留下一个
                showRefresh:true,//显示刷新按钮
                showToggle:true,//显示切换视图
                paginationPreText: "上一页",
                paginationNextText: "下一页",
//                search:true,//是否显示搜索框
//                searchOnEnterKey:true,//设置为 true时，按回车触发搜索方法，否则自动触发搜索方法
                pagination:true,//开启分页
                paginationLoop:true,//开启分页无限循环
                pageNumber:1,//当前页数
                pageSize:3,//每页条数
                pageList:[1,2,3,4],//如果设置了分页，设置可供选择的页面数据条数。设置为All 则显示所有记录。
                sidePagination:"server",//
                method:'post',//发送请求的方式
                contentType:"application/x-www-form-urlencoded",//必须的否则条件查询时会乱码
                checkboxHeader:"true",
                clickToSelect:"true",
                queryParams:function(param){
                    //文本框条件查询
                    return {
////                        ckgllx:$("#ckgllx").val(),
//                    cCgtimeStatime:$("#nowdatee").val(),//采购开始时间
//                    cCgtimeEndtime:$("#nowdate").val(),//采购结束时间
//                    cRgtimeStatime:$("#nowdate2").val(),//入库开始时间
//                    cRgtimeEndtime:$("#nowdate22").val(),//入库结束时间
//                    cCode: $("#filter").val(),
//                    cCk:$("#ck").val(),//仓库下拉选择
                        make:$("#username").val(),//
                        status:'3',
                        page:this.pageNumber,//当前页
                        rows:this.pageSize //每页条数
                    }
                },

                columns: [{
                    field: 'userid',
                    title: '#',
                    idField:true,
                    width: 100

                }, {
                    field: 'dingdancount',
                    title: '订单1号',
                    width: 200,
                    center:true

                }, {
                    field: 'clientele.accountnumber',
                    title: '账号',
                    width: 200

                },  {
                    field: 'clientele.username',
                    title: '用户名',
                    width: 200

                }, {
                    field: 'qudao.qudaoid',
                    title: '渠道ID',
                    width: 200

                }, {
                    field: 'product.productname',
                    title: '金融产品',
                    width: 200

                }, {
                    field: 'product.producttype',
                    title: '产品类型',
                    width: 200

                }, {
                    field: 'creattime',
                    title: '创建时间',
                    width: 200,
                    formatter:function(value){
                        if(value){
                            var date=new Date(value);
                            var y=date.getFullYear();
                            var m=date.getMonth();
                            var d=date.getDay();
                            var h=date.getHours();
                            var m1=date.getMinutes();
                            var s=date.getSeconds();
                            return  y+'-'+m+'-'+d+'  '+h+':'+m1+':'+s;}
                        else{
                            return "";
                        }
                    }

                }, {
                    field: 'fengkong',
                    title: '风控资料',
                    width: 200

                }, {
                    field: 'hetong',
                    title: '合同',
                    width: 200

                },{
                    field: 'dingdanstatus',
                    title: '订单状态',
                    width: 200

                },{
                    field: '',
                    title: '操作',
                    width: 200,
                    formatter:function(value,row){
//                return "<a href='javascript:(0)' >编辑</a>";
                        return '<button type="button" onclick="editClient('+row.userid+')" class="btn btn-success" id="addnew">编辑</button>'
                    }





                },],
            });
    })

//function editClient(qudaoids){
//    location.href="/editClient?userid="+qudaoids;
//}
    //    客户列表
    function showList(){
        $("#showshup").bootstrapTable("refresh",{'pageNumber':1});

    }
    function showListadd(){
        location.href="/showListadd";
    }
</script>